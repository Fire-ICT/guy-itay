{"ast":null,"code":"var _jsxFileName = \"/Users/guylazarof/Desktop/movieApi/src/client/src/components/owners-table-componnent.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { Outlet } from \"react-router-dom\";\nimport AddForm from \"./add-form-component\";\nimport Table from \"./table-componnent\";\nimport ToolsBar from \"./tools-bar-componnent\";\nimport UpdateForm from \"./update-form-component\";\nimport { reqAddOwner, reqDeleteOwner, reqGetOwners, reqUpdateOwner } from \"../helpers/owners-server-req\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst OwnersTable = () => {\n  _s();\n\n  // Constant variables.\n  const tableHeadlist = [\"id\", \"name\", \"email\", \"phone number\"];\n  const formInputList = [\"owner_id\", \"name\", \"email\", \"phone_number\"]; // Create states and usestets.\n\n  const [data, setData] = useState([]);\n  const [isDelete, setIsDelete] = useState(true);\n  const [isAdd, setIsAdd] = useState(true);\n  const [isUpdate, setIsUpdate] = useState(false);\n  const [addButton, setAddButton] = useState(false);\n  const [updatebutton, setUpdatebutton] = useState(false);\n  const [updateData, setUpdateData] = useState(); // Request from the server for initial data and when delete/add/update happen.\n\n  useEffect(() => {\n    reqGetOwners().then(result => {\n      setData(result);\n    });\n  }, [isDelete, isAdd, isUpdate]); // Submit form data to server for add.\n\n  const handelSubmitAdd = async event => {\n    event.preventDefault();\n    const data = new FormData(event.target); // Server request.\n\n    await reqAddOwner(Object.fromEntries(data));\n    setIsAdd(!isAdd);\n  }; // Submit form data to server for update.\n\n\n  const handelSubmitUpdate = async event => {\n    event.preventDefault();\n    const data = Object.fromEntries(new FormData(event.target)); // Server request.\n\n    await reqUpdateOwner(data);\n    setIsUpdate(!isUpdate);\n  }; // Click on update button.\n\n\n  const handelButtonUpdate = async element => {\n    setUpdateData(element);\n    setUpdatebutton(!updatebutton);\n    setAddButton(false);\n  }; // Click on delete button.\n\n\n  const handelButtonDelete = async id => {\n    // Server request.\n    await reqDeleteOwner(id);\n    setIsDelete(!isDelete);\n  }; // Click on add button.\n\n\n  const handelButtonAdd = () => {\n    setAddButton(!addButton);\n    setUpdatebutton(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Main\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Owners table\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Table\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ToolsBar\",\n        children: /*#__PURE__*/_jsxDEV(ToolsBar, {\n          handelButtonAdd: handelButtonAdd\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"HiddenDivs\",\n        children: [addButton && /*#__PURE__*/_jsxDEV(AddForm, {\n          inputsNames: formInputList,\n          placeholdersNames: tableHeadlist,\n          handelSubmitAdd: handelSubmitAdd\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), updatebutton && /*#__PURE__*/_jsxDEV(UpdateForm, {\n          inputsNames: formInputList,\n          handelSubmitUpdate: handelSubmitUpdate,\n          updateData: updateData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        head: tableHeadlist,\n        body: data,\n        elementTypes: formInputList,\n        handelButtonDelete: handelButtonDelete,\n        handelButtonUpdate: handelButtonUpdate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Outlet, {\n      context: data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n\n_s(OwnersTable, \"0Vs9rLxNzrt7YgTKUlg1l5seXuk=\");\n\n_c = OwnersTable;\nexport default OwnersTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"OwnersTable\");","map":{"version":3,"names":["useEffect","useState","Outlet","AddForm","Table","ToolsBar","UpdateForm","reqAddOwner","reqDeleteOwner","reqGetOwners","reqUpdateOwner","OwnersTable","tableHeadlist","formInputList","data","setData","isDelete","setIsDelete","isAdd","setIsAdd","isUpdate","setIsUpdate","addButton","setAddButton","updatebutton","setUpdatebutton","updateData","setUpdateData","then","result","handelSubmitAdd","event","preventDefault","FormData","target","Object","fromEntries","handelSubmitUpdate","handelButtonUpdate","element","handelButtonDelete","id","handelButtonAdd"],"sources":["/Users/guylazarof/Desktop/movieApi/src/client/src/components/owners-table-componnent.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Outlet } from \"react-router-dom\";\nimport AddForm from \"./add-form-component\";\nimport Table from \"./table-componnent\";\nimport ToolsBar from \"./tools-bar-componnent\";\nimport UpdateForm from \"./update-form-component\";\nimport {\n  reqAddOwner,\n  reqDeleteOwner,\n  reqGetOwners,\n  reqUpdateOwner,\n} from \"../helpers/owners-server-req\";\nimport { Owner } from \"../types/owners-types\";\n\nconst OwnersTable = () => {\n  // Constant variables.\n  const tableHeadlist: string[] = [\"id\", \"name\", \"email\", \"phone number\"];\n  const formInputList: string[] = [\"owner_id\", \"name\", \"email\", \"phone_number\"];\n  // Create states and usestets.\n  const [data, setData] = useState<Owner[] | []>([]);\n  const [isDelete, setIsDelete] = useState<boolean>(true);\n  const [isAdd, setIsAdd] = useState<boolean>(true);\n  const [isUpdate, setIsUpdate] = useState<boolean>(false);\n  const [addButton, setAddButton] = useState<boolean>(false);\n  const [updatebutton, setUpdatebutton] = useState<boolean>(false);\n  const [updateData, setUpdateData] = useState<Owner | undefined>();\n  // Request from the server for initial data and when delete/add/update happen.\n  useEffect(() => {\n    reqGetOwners().then((result) => {\n      setData(result);\n    });\n  }, [isDelete, isAdd, isUpdate]);\n  // Submit form data to server for add.\n  const handelSubmitAdd = async (event: any) => {\n    event.preventDefault();\n    const data = new FormData(event.target);\n    // Server request.\n    await reqAddOwner(Object.fromEntries(data) as unknown as Owner);\n    setIsAdd(!isAdd);\n  };\n  // Submit form data to server for update.\n  const handelSubmitUpdate = async (event: any) => {\n    event.preventDefault();\n    const data = Object.fromEntries(new FormData(event.target));\n    // Server request.\n    await reqUpdateOwner(data as unknown as Owner);\n    setIsUpdate(!isUpdate);\n  };\n  // Click on update button.\n  const handelButtonUpdate = async (element: Owner) => {\n    setUpdateData(element);\n    setUpdatebutton(!updatebutton);\n    setAddButton(false);\n  };\n  // Click on delete button.\n  const handelButtonDelete = async (id: number) => {\n    // Server request.\n    await reqDeleteOwner(id);\n    setIsDelete(!isDelete);\n  };\n  // Click on add button.\n  const handelButtonAdd = () => {\n    setAddButton(!addButton);\n    setUpdatebutton(false);\n  };\n\n  return (\n    <div className=\"Main\">\n      <h2>Owners table</h2>\n      <div className=\"Table\">\n        <div className=\"ToolsBar\">\n          <ToolsBar handelButtonAdd={handelButtonAdd} />\n        </div>\n        <div className=\"HiddenDivs\">\n          {addButton && (\n            <AddForm\n              inputsNames={formInputList}\n              placeholdersNames={tableHeadlist}\n              handelSubmitAdd={handelSubmitAdd}\n            />\n          )}\n          {updatebutton && (\n            <UpdateForm\n              inputsNames={formInputList}\n              handelSubmitUpdate={handelSubmitUpdate}\n              updateData={updateData}\n            />\n          )}\n        </div>\n        <Table\n          head={tableHeadlist}\n          body={data}\n          elementTypes={formInputList}\n          handelButtonDelete={handelButtonDelete}\n          handelButtonUpdate={handelButtonUpdate}\n        />\n      </div>\n      <Outlet context={data} />\n    </div>\n  );\n};\n\nexport default OwnersTable;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}