{"ast":null,"code":"var _jsxFileName = \"/Users/guylazarof/Desktop/movieApi/src/client/src/components/containers-table-componnent.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { Outlet } from \"react-router-dom\";\nimport { reqGetContainers, reqAddContainer, reqDeleteContainer, reqUpdateContainer } from \"../helpers/containers-server-req\";\nimport AddForm from \"./add-form-component\";\nimport Table from \"./table-componnent\";\nimport ToolsBar from \"./tools-bar-componnent\";\nimport UpdateForm from \"./update-form-component\";\nimport \"../styles/containers-table-componnent.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ContainerTable = () => {\n  _s();\n\n  // Constant variables.\n  const tableHeadlist = [\"id\", \"model\", \"quantity\", \"size\", \"manufacturing year\", \"location id\", \"owner id\"];\n  const formInputList = [\"container_id\", \"model\", \"quantity\", \"size\", \"manufacturing_year\", \"location_id\", \"owner_id\"]; // Create states and usestets.\n\n  const [data, setData] = useState([]);\n  const [isDelete, setIsDelete] = useState(true);\n  const [isAdd, setIsAdd] = useState(true);\n  const [isUpdate, setIsUpdate] = useState(false);\n  const [addButton, setAddButton] = useState(false);\n  const [updatebutton, setUpdatebutton] = useState(false);\n  const [updateData, setUpdateData] = useState(); // Request from the server for initial data and when delete/add/update happen.\n\n  useEffect(() => {\n    reqGetContainers().then(result => {\n      setData(result);\n    });\n  }, [isDelete, isAdd, isUpdate]); // Submit form data to server for add.\n\n  const handelSubmitAdd = async event => {\n    event.preventDefault();\n    const data = new FormData(event.target); // Server request.\n\n    await reqAddContainer(Object.fromEntries(data));\n    setIsAdd(!isAdd);\n  }; // Submit form data to server for update.\n\n\n  const handelSubmitUpdate = async event => {\n    event.preventDefault();\n    const data = Object.fromEntries(new FormData(event.target)); // Server request.\n\n    await reqUpdateContainer(data);\n    setIsUpdate(!isUpdate);\n  }; // Click on update button.\n\n\n  const handelButtonUpdate = async element => {\n    setUpdateData(element);\n    setUpdatebutton(!updatebutton);\n    setAddButton(false);\n  }; // Click on delete button.\n\n\n  const handelButtonDelete = async id => {\n    // Server request.\n    await reqDeleteContainer(id);\n    setIsDelete(!isDelete);\n  }; // Click on add button.\n\n\n  const handelButtonAdd = () => {\n    setAddButton(!addButton);\n    setUpdatebutton(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Main\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Containers table\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Table\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ToolsBar\",\n        children: /*#__PURE__*/_jsxDEV(ToolsBar, {\n          handelButtonAdd: handelButtonAdd\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"HiddenDivs\",\n        children: [addButton && /*#__PURE__*/_jsxDEV(AddForm, {\n          inputsNames: formInputList,\n          placeholdersNames: tableHeadlist,\n          handelSubmitAdd: handelSubmitAdd\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this), updatebutton && /*#__PURE__*/_jsxDEV(UpdateForm, {\n          inputsNames: formInputList,\n          handelSubmitUpdate: handelSubmitUpdate,\n          updateData: updateData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        head: tableHeadlist,\n        body: data,\n        elementTypes: formInputList,\n        handelButtonDelete: handelButtonDelete,\n        handelButtonUpdate: handelButtonUpdate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Outlet, {\n      context: data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ContainerTable, \"0Vs9rLxNzrt7YgTKUlg1l5seXuk=\");\n\n_c = ContainerTable;\nexport default ContainerTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"ContainerTable\");","map":{"version":3,"names":["useEffect","useState","Outlet","reqGetContainers","reqAddContainer","reqDeleteContainer","reqUpdateContainer","AddForm","Table","ToolsBar","UpdateForm","ContainerTable","tableHeadlist","formInputList","data","setData","isDelete","setIsDelete","isAdd","setIsAdd","isUpdate","setIsUpdate","addButton","setAddButton","updatebutton","setUpdatebutton","updateData","setUpdateData","then","result","handelSubmitAdd","event","preventDefault","FormData","target","Object","fromEntries","handelSubmitUpdate","handelButtonUpdate","element","handelButtonDelete","id","handelButtonAdd"],"sources":["/Users/guylazarof/Desktop/movieApi/src/client/src/components/containers-table-componnent.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Outlet } from \"react-router-dom\";\nimport {\n  reqGetContainers,\n  reqAddContainer,\n  reqDeleteContainer,\n  reqUpdateContainer,\n} from \"../helpers/containers-server-req\";\nimport { Container } from \"../types/containers-types\";\nimport AddForm from \"./add-form-component\";\nimport Table from \"./table-componnent\";\nimport ToolsBar from \"./tools-bar-componnent\";\nimport UpdateForm from \"./update-form-component\";\nimport \"../styles/containers-table-componnent.scss\";\n\nconst ContainerTable = () => {\n  // Constant variables.\n  const tableHeadlist: string[] = [\n    \"id\",\n    \"model\",\n    \"quantity\",\n    \"size\",\n    \"manufacturing year\",\n    \"location id\",\n    \"owner id\",\n  ];\n  const formInputList: string[] = [\n    \"container_id\",\n    \"model\",\n    \"quantity\",\n    \"size\",\n    \"manufacturing_year\",\n    \"location_id\",\n    \"owner_id\",\n  ];\n  // Create states and usestets.\n  const [data, setData] = useState<Container[] | []>([]);\n  const [isDelete, setIsDelete] = useState<boolean>(true);\n  const [isAdd, setIsAdd] = useState<boolean>(true);\n  const [isUpdate, setIsUpdate] = useState<boolean>(false);\n  const [addButton, setAddButton] = useState<boolean>(false);\n  const [updatebutton, setUpdatebutton] = useState<boolean>(false);\n  const [updateData, setUpdateData] = useState<Container | undefined>();\n\n  // Request from the server for initial data and when delete/add/update happen.\n  useEffect(() => {\n    reqGetContainers().then((result) => {\n      setData(result);\n    });\n  }, [isDelete, isAdd, isUpdate]);\n\n  // Submit form data to server for add.\n  const handelSubmitAdd = async (event: any) => {\n    event.preventDefault();\n    const data = new FormData(event.target);\n    // Server request.\n    await reqAddContainer(Object.fromEntries(data) as unknown as Container);\n    setIsAdd(!isAdd);\n  };\n  // Submit form data to server for update.\n  const handelSubmitUpdate = async (event: any) => {\n    event.preventDefault();\n    const data = Object.fromEntries(new FormData(event.target));\n    // Server request.\n    await reqUpdateContainer(data as unknown as Container);\n    setIsUpdate(!isUpdate);\n  };\n  // Click on update button.\n  const handelButtonUpdate = async (element: Container) => {\n    setUpdateData(element);\n    setUpdatebutton(!updatebutton);\n    setAddButton(false);\n  };\n  // Click on delete button.\n  const handelButtonDelete = async (id: number) => {\n    // Server request.\n    await reqDeleteContainer(id);\n    setIsDelete(!isDelete);\n  };\n\n  // Click on add button.\n  const handelButtonAdd = () => {\n    setAddButton(!addButton);\n    setUpdatebutton(false);\n  };\n  return (\n    <div className=\"Main\">\n      <h2>Containers table</h2>\n      <div className=\"Table\">\n        <div className=\"ToolsBar\">\n          <ToolsBar handelButtonAdd={handelButtonAdd} />\n        </div>\n        <div className=\"HiddenDivs\">\n          {addButton && (\n            <AddForm\n              inputsNames={formInputList}\n              placeholdersNames={tableHeadlist}\n              handelSubmitAdd={handelSubmitAdd}\n            />\n          )}\n          {updatebutton && (\n            <UpdateForm\n              inputsNames={formInputList}\n              handelSubmitUpdate={handelSubmitUpdate}\n              updateData={updateData}\n            />\n          )}\n        </div>\n        <Table\n          head={tableHeadlist}\n          body={data}\n          elementTypes={formInputList}\n          handelButtonDelete={handelButtonDelete}\n          handelButtonUpdate={handelButtonUpdate}\n        />\n      </div>\n      <Outlet context={data} />\n    </div>\n  );\n};\n\nexport default ContainerTable;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}