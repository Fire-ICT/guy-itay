{"ast":null,"code":"var _jsxFileName = \"/Users/guylazarof/Desktop/movieApi/src/client/src/components/locations-history-table-componnent.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { Outlet } from \"react-router-dom\";\nimport AddForm from \"./add-form-component\";\nimport Table from \"./table-componnent\";\nimport ToolsBar from \"./tools-bar-componnent\";\nimport UpdateForm from \"./update-form-component\";\nimport { reqAddLocationsHistory, reqDeleteLocationHistory, reqGetLocationsHistory, reqUpdateLocationHistory } from \"../helpers/locations-history-server-req\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst LocationsHistoryTable = () => {\n  _s();\n\n  // Constant variables.\n  const tableHeadlist = [\"id\", \"arrival date\", \"departure date\", \"location id\", \"container id\"];\n  const formInputList = [\"location_history_id\", \"arrival_date\", \"departure_date\", \"location_id\", \"container_id\"]; // Create states and usestets.\n\n  const [data, setData] = useState([]);\n  const [isDelete, setIsDelete] = useState(true);\n  const [isAdd, setIsAdd] = useState(true);\n  const [isUpdate, setIsUpdate] = useState(false);\n  const [addButton, setAddButton] = useState(false);\n  const [updatebutton, setUpdatebutton] = useState(false);\n  const [updateData, setUpdateData] = useState(); // Request from the server for initial data and when delete/add/update happen.\n\n  useEffect(() => {\n    reqGetLocationsHistory().then(result => {\n      setData(result);\n      console.log(data);\n    });\n  }, [isDelete, isAdd, isUpdate]); // Submit form data to server for add.\n\n  const handelSubmitAdd = async event => {\n    event.preventDefault();\n    const data = new FormData(event.target); // Server request.\n\n    await reqAddLocationsHistory(Object.fromEntries(data));\n    setIsAdd(!isAdd);\n  }; // Submit form data to server for update.\n\n\n  const handelSubmitUpdate = async event => {\n    event.preventDefault();\n    const data = Object.fromEntries(new FormData(event.target)); // Server request.\n\n    await reqUpdateLocationHistory(data);\n    setIsUpdate(!isUpdate);\n  }; // Click on update button.\n\n\n  const handelButtonUpdate = async element => {\n    setUpdateData(element);\n    setUpdatebutton(!updatebutton);\n    setAddButton(false);\n  }; // Click on delete button.\n\n\n  const handelButtonDelete = async id => {\n    // Server request.\n    await reqDeleteLocationHistory(id);\n    setIsDelete(!isDelete);\n  }; // Click on add button.\n\n\n  const handelButtonAdd = () => {\n    setAddButton(!addButton);\n    setUpdatebutton(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Main\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Location history table\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Table\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ToolsBar\",\n        children: /*#__PURE__*/_jsxDEV(ToolsBar, {\n          handelButtonAdd: handelButtonAdd\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"HiddenDivs\",\n        children: [addButton && /*#__PURE__*/_jsxDEV(AddForm, {\n          inputsNames: formInputList,\n          placeholdersNames: tableHeadlist,\n          handelSubmitAdd: handelSubmitAdd\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this), updatebutton && /*#__PURE__*/_jsxDEV(UpdateForm, {\n          inputsNames: formInputList,\n          handelSubmitUpdate: handelSubmitUpdate,\n          updateData: updateData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        head: tableHeadlist,\n        body: data,\n        elementTypes: formInputList,\n        handelButtonDelete: handelButtonDelete,\n        handelButtonUpdate: handelButtonUpdate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Outlet, {\n      context: data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n\n_s(LocationsHistoryTable, \"0Vs9rLxNzrt7YgTKUlg1l5seXuk=\");\n\n_c = LocationsHistoryTable;\nexport default LocationsHistoryTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"LocationsHistoryTable\");","map":{"version":3,"names":["useEffect","useState","Outlet","AddForm","Table","ToolsBar","UpdateForm","reqAddLocationsHistory","reqDeleteLocationHistory","reqGetLocationsHistory","reqUpdateLocationHistory","LocationsHistoryTable","tableHeadlist","formInputList","data","setData","isDelete","setIsDelete","isAdd","setIsAdd","isUpdate","setIsUpdate","addButton","setAddButton","updatebutton","setUpdatebutton","updateData","setUpdateData","then","result","console","log","handelSubmitAdd","event","preventDefault","FormData","target","Object","fromEntries","handelSubmitUpdate","handelButtonUpdate","element","handelButtonDelete","id","handelButtonAdd"],"sources":["/Users/guylazarof/Desktop/movieApi/src/client/src/components/locations-history-table-componnent.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Outlet } from \"react-router-dom\";\nimport AddForm from \"./add-form-component\";\nimport Table from \"./table-componnent\";\nimport ToolsBar from \"./tools-bar-componnent\";\nimport UpdateForm from \"./update-form-component\";\nimport { LocationHistory } from \"../types/locations-history-types\";\nimport { reqAddLocationsHistory, reqDeleteLocationHistory, reqGetLocationsHistory, reqUpdateLocationHistory } from \"../helpers/locations-history-server-req\";\n\nconst LocationsHistoryTable = () => {\n  // Constant variables.\n  const tableHeadlist: string[] = [\n    \"id\",\n    \"arrival date\",\n    \"departure date\",\n    \"location id\",\n    \"container id\",\n  ];\n  const formInputList: string[] = [\n    \"location_history_id\",\n    \"arrival_date\",\n    \"departure_date\",\n    \"location_id\",\n    \"container_id\",\n  ];\n  // Create states and usestets.\n  const [data, setData] = useState<LocationHistory[] | []>([]);\n  const [isDelete, setIsDelete] = useState<boolean>(true);\n  const [isAdd, setIsAdd] = useState<boolean>(true);\n  const [isUpdate, setIsUpdate] = useState<boolean>(false);\n  const [addButton, setAddButton] = useState<boolean>(false);\n  const [updatebutton, setUpdatebutton] = useState<boolean>(false);\n  const [updateData, setUpdateData] = useState<LocationHistory | undefined>();\n\n  // Request from the server for initial data and when delete/add/update happen.\n  useEffect(() => {\n    reqGetLocationsHistory().then((result) => {\n      setData(result);\n      console.log(data);\n      \n    });\n  }, [isDelete, isAdd, isUpdate]);\n  // Submit form data to server for add.\n  const handelSubmitAdd = async (event: any) => {\n    event.preventDefault();\n    const data = new FormData(event.target);\n    // Server request.\n    await reqAddLocationsHistory(Object.fromEntries(data) as unknown as LocationHistory);\n    setIsAdd(!isAdd);\n  };\n  // Submit form data to server for update.\n  const handelSubmitUpdate = async (event: any) => {\n    event.preventDefault();\n    const data = Object.fromEntries(new FormData(event.target));\n    // Server request.\n    await reqUpdateLocationHistory(data as unknown as LocationHistory);\n    setIsUpdate(!isUpdate);\n  };\n  // Click on update button.\n  const handelButtonUpdate = async (element: LocationHistory) => {\n    setUpdateData(element);\n    setUpdatebutton(!updatebutton);\n    setAddButton(false);\n  };\n  // Click on delete button.\n  const handelButtonDelete = async (id: number) => {\n    // Server request.\n    await reqDeleteLocationHistory(id);\n    setIsDelete(!isDelete);\n  };\n  // Click on add button.\n  const handelButtonAdd = () => {\n    setAddButton(!addButton);\n    setUpdatebutton(false);\n  };\n\n  return (\n    <div className=\"Main\">\n      <h2>Location history table</h2>\n      <div className=\"Table\">\n        <div className=\"ToolsBar\">\n          <ToolsBar handelButtonAdd={handelButtonAdd} />\n        </div>\n        <div className=\"HiddenDivs\">\n          {addButton && (\n            <AddForm\n              inputsNames={formInputList}\n              placeholdersNames={tableHeadlist}\n              handelSubmitAdd={handelSubmitAdd}\n            />\n          )}\n          {updatebutton && (\n            <UpdateForm\n              inputsNames={formInputList}\n              handelSubmitUpdate={handelSubmitUpdate}\n              updateData={updateData}\n            />\n          )}\n        </div>\n        <Table\n          head={tableHeadlist}\n          body={data}\n          elementTypes={formInputList}\n          handelButtonDelete={handelButtonDelete}\n          handelButtonUpdate={handelButtonUpdate}\n        />\n      </div>\n      <Outlet context={data} />\n    </div>\n  );\n};\n\nexport default LocationsHistoryTable;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}